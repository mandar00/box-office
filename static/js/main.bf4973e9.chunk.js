(this["webpackJsonpbox-office"]=this["webpackJsonpbox-office"]||[]).push([[0],{20:function(e,t,c){},21:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(11),r=c.n(s),a=c(5),i=c(2),o=c(3),j=c(0),l=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"navMainDiv",children:[{to:"/",text:"Home"},{to:"/stared",text:"Stared"}].map((function(e){return Object(j.jsx)("div",{className:"nav".concat(e.text),children:Object(j.jsx)(a.b,{activeclassname:"nav",to:e.to,children:e.text})},e.text)}))})})},d=function(e){var t=e.title,c=e.subtitle;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"mainPageTitle",children:[Object(j.jsx)("h1",{children:t}),Object(j.jsx)("p",{children:c})]})})},u=function(e){var t=e.children;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,{title:"Box Office",subtitle:"Are you looking for a movie or an actor "}),Object(j.jsx)(l,{}),t]})},h=c(10),b=c.n(h),m=c(12),O="https://api.tvmaze.com/";function x(e){return g.apply(this,arguments)}function g(){return(g=Object(m.a)(b.a.mark((function e(t){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(O).concat(t)).then((function(e){return e.json()}));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e){var t=e.isActive;console.log(t);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("i",{className:"fa fa-star",style:t?{color:"#f9ca24"}:{color:"#c7ecee"}})})},f=function(e){var t=e.id,c=e.name,n=e.image,s=e.summary,r=e.onStarClicked,i=e.isStared,o=s?"".concat(s.split(" ").slice(0,10).join(" ").replace(/<.>+?/g,"").replace(/[</.>]+?/g,""),"..."):"No Description";return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"ShowCard",children:[Object(j.jsxs)("div",{className:"ShowCard_img",children:[Object(j.jsx)("img",{src:n,alt:"no img"}),console.log(n)]}),Object(j.jsx)("h1",{children:c}),Object(j.jsx)("p",{children:o}),Object(j.jsxs)("div",{className:"link_n_btn",children:[Object(j.jsx)(a.b,{activeclassname:"active",to:"shows/".concat(t),children:"Read more.."}),Object(j.jsx)("button",{className:"starButton",type:"button",onClick:r,children:Object(j.jsx)(v,{isActive:i})})]})]})})},p=c.p+"static/media/img_not_found.d11b58e2.png",N=c(13);function S(e,t){switch(t.type){case"ADD":return[].concat(Object(N.a)(e),[t.showId]);case"REMOVE":return[e.filter((function(e){return e!==t.showId}))];default:return e}}function y(e,t,c){var s=Object(n.useReducer)(e,t,(function(e){var t=localStorage.getItem(c);return t?JSON.parse(t):e})),r=Object(o.a)(s,2),a=r[0],i=r[1];return Object(n.useEffect)((function(){localStorage.setItem(c,JSON.stringify(a))}),[a,c]),console.log(a),[a,i]}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"shows";return y(S,[],e)}var F=function(e){var t=e.data,c=w(),n=Object(o.a)(c,2),s=n[0],r=n[1];return console.log(t),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"ShowGrid",children:t.map((function(e){var t=e.show,c=s.includes(t.id);return Object(j.jsx)(f,{id:t.id,name:t.name,image:t.image?t.image.medium:p,summary:t.summary,onStarClicked:function(){r(c?{type:"REMOVE",showId:t.id}:{type:"ADD",showId:t.id})},isStared:c},t.id)}))})})},C=function(e){var t=e.image,c=e.name,n=e.gender,s=e.country,r=e.birthday,a=e.deathday;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"ActorCard",children:[Object(j.jsx)("div",{className:"ActorGrid_img",children:Object(j.jsx)("img",{src:t,alt:"actor"})}),Object(j.jsxs)("h1",{children:[c," ",n?"".concat(n):null]}),Object(j.jsx)("p",{children:s?"Comes from ".concat(s):"no country known"}),Object(j.jsx)("p",{children:r?"Born on ".concat(r):null}),Object(j.jsx)("p",{children:a?"Died on ".concat(a):"Alive"})]})})},E=function(e){var t=e.data;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"ActorGrid",children:t.map((function(e){var t=e.person;return Object(j.jsx)(C,{name:t.name,country:t.country?t.country:null,bithDay:t.birthday,deathDay:t.deathday,gender:t.gender,image:t.image?t.image.medium:p},t.id)}))})})},M=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lastQuery",t=Object(n.useState)((function(){var t=sessionStorage.getItem(e);return t?JSON.parse(t):""})),c=Object(o.a)(t,2),s=c[0],r=c[1];return[s,function(t){r(t),sessionStorage.setItem(e,JSON.stringify(t))}]}(),t=Object(o.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),a=Object(o.a)(r,2),i=a[0],l=a[1],d=Object(n.useState)("shows"),h=Object(o.a)(d,2),b=h[0],m=h[1],O=function(){x("search/".concat(b,"?q=").concat(c)).then((function(e){return l(e)}))},g=function(e){m(e.target.value)};return console.log(b),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(u,{children:[Object(j.jsxs)("div",{className:"searchAreaDiv",children:[Object(j.jsx)("input",{className:"mainSearchBar",type:"text",placeholder:"Search",onChange:function(e){s(e.target.value)},onKeyDown:function(e){13===e.keyCode&&O()},value:c}),Object(j.jsx)("button",{className:"mainSearchButton",type:"button",onClick:O,children:"Search"}),Object(j.jsx)("br",{})]}),Object(j.jsxs)("div",{className:"mainSelectDiv",children:[Object(j.jsxs)("label",{className:"shows-search",htmlFor:"shows-search",children:[Object(j.jsx)("input",{className:"showSelect",id:"shows-search",type:"radio",name:"search-select",value:"shows",onChange:g,defaultChecked:"true"}),"Shows"]}),Object(j.jsxs)("label",{className:"actor-search",htmlFor:"actor-search",children:[Object(j.jsx)("input",{className:"actorSelect",id:"actor-search",type:"radio",name:"search-select",value:"people",onChange:g}),"Actors"]})]}),i&&0===i.length?Object(j.jsx)("div",{children:" No Results Found"}):i&&i.length>0?i[0].show?Object(j.jsx)(F,{data:i}):Object(j.jsx)(E,{data:i}):null]})})},D=function(){var e=w(),t=Object(o.a)(e,1)[0];console.log(t),console.log(typeof t),console.log(t.length);var c=Object(n.useState)(null),s=Object(o.a)(c,2),r=s[0],a=s[1],i=Object(n.useState)(!0),l=Object(o.a)(i,2),d=l[0],h=l[1],b=Object(n.useState)(null),m=Object(o.a)(b,2),O=m[0],g=m[1];return Object(n.useEffect)((function(){if(t&&t.length>0){var e=t.map((function(e){return x("shows/".concat(e))}));Promise.all(e).then((function(e){return e.map((function(e){return{show:e}}))})).then((function(e){console.log(e),a(e),h(!1),g(null)})).catch((function(e){g(e.message),h(!1)}))}}),[t]),console.log(r),Object(j.jsxs)(u,{children:[d&&Object(j.jsx)("div",{children:"data is loading"}),O&&Object(j.jsxs)("div",{children:["error has occured :",O]}),!d&&!r&&Object(j.jsx)("div",{children:"no shows Starred"}),!d&&!O&&r&&Object(j.jsx)(F,{data:r})]})},_=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h1",{children:"Error msg : page not Found "})})},k=c(8),A=function(e){var t=e.cast;return console.log(t),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Cast"}),Object(j.jsx)("div",{children:t.map((function(e,t){var c=e.person,n=e.character;return Object(j.jsx)("div",{className:"readMoreCast",children:Object(j.jsxs)("div",{className:"readMoreSingleCast",children:[Object(j.jsx)("img",{src:c.image?c.image.medium:p,alt:"cast_person"}),"  ",Object(j.jsxs)("p",{children:[c.name,":",n.name]})]})},t)}))})]})},I=function(e){var t=e.status,c=e.premiered,n=e.network;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"readMoreDetailsDiv",children:[Object(j.jsxs)("div",{className:"detailsStatus",children:[Object(j.jsx)("h2",{children:"Details"}),Object(j.jsxs)("p",{children:["Status:",Object(j.jsx)("span",{children:t})]})]}),Object(j.jsxs)("div",{children:["Premiered:",c," ",n?"on ".concat(n.name):null]})]})})},T=function(e){var t=e.seasons;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"readMoreSeasonsNo",children:Object(j.jsxs)("p",{children:["Total No of Seasons:",Object(j.jsx)("span",{children:t.length})]})}),Object(j.jsx)("div",{className:"readMoreEpisodeNo",children:Object(j.jsxs)("p",{children:["Total no of Episodes:",Object(j.jsx)("span",{children:t.reduce((function(e,t){return e+t.episodeOrder}),0)})]})}),Object(j.jsx)("div",{className:"readMoreSeasonMap",children:t.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("p",{children:["Season:",Object(j.jsx)("span",{children:e.number})]}),Object(j.jsxs)("p",{children:["episodes:",Object(j.jsx)("span",{children:e.episodeOrder})]})]},t)}))})]})})},L=function(e){var t=e.image,c=e.name,n=e.summary,s=e.rating,r=e.tags;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"readMoreMainData",children:[Object(j.jsx)("div",{className:"readMoreImg",children:Object(j.jsx)("img",{src:t?t.medium:p,alt:"show_cover"})}),Object(j.jsxs)("div",{className:"readMoreNameRating",children:[Object(j.jsx)("div",{className:"readMoreName",children:c}),Object(j.jsxs)("div",{className:"readMoreRating",children:[Object(j.jsx)("i",{className:"far fa-star"}),s.average?s.average:"null"]})]}),Object(j.jsx)("div",{className:"readMoreSummary",dangerouslySetInnerHTML:{__html:n}}),Object(j.jsxs)("div",{className:"readMoreTags",children:[Object(j.jsx)("p",{children:"Tags:"}),r.map((function(e,t){return Object(j.jsx)("p",{children:e},t)}))]})]})})},R={show:null,isLoading:!0,error:null},B=function(e,t){switch(console.log(t),t.type){case"FETCH_SUCCESS":return Object(k.a)(Object(k.a)({},e),{},{show:t.show,isLoading:!1,error:null});case"FETCH_FAILED":return Object(k.a)(Object(k.a)({},e),{},{error:t.error,isLoading:!1});default:return e}},H=function(){var e=Object(i.g)().id,t=Object(n.useReducer)(B,R),c=Object(o.a)(t,2),s=c[0],r=s.show,a=s.isLoading,l=s.error,d=c[1];return Object(n.useEffect)((function(){var t=!0;return x("shows/".concat(e,"?embed[]=seasons&embed[]=cast")).then((function(e){t&&d({type:"FETCH_SUCCESS",show:e})})).catch((function(e){t&&d({type:"FETCH_FAILED",error:e.message})})),function(){t=!1}}),[e]),console.log(r),a?Object(j.jsx)("div",{children:"the page is isLoading"}):l?Object(j.jsxs)("div",{children:["error occured ",l]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsx)(L,{image:r.image,name:r.name,rating:r.rating,summary:r.summary,tags:r.genres})}),Object(j.jsx)("div",{children:Object(j.jsx)(I,{status:r.status,network:r.network,premiered:r.premiered})}),Object(j.jsxs)("div",{children:[Object(j.jsx)(T,{seasons:r._embedded.seasons}),console.log(r._embedded.seasons)]}),Object(j.jsx)("div",{children:Object(j.jsx)(A,{cast:r._embedded.cast})})]})};var J=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",element:Object(j.jsx)(M,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/stared",element:Object(j.jsx)(D,{})}),Object(j.jsx)(i.a,{path:"/*",element:Object(j.jsx)(_,{})}),Object(j.jsx)(i.a,{exact:!0,path:"/shows/:id",element:Object(j.jsx)(H,{})})]})})};c(20);r.a.render(Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(a.a,{children:Object(j.jsx)(J,{})})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.bf4973e9.chunk.js.map